object DM_LIQINQ: TDM_LIQINQ
  OldCreateOrder = False
  Height = 560
  HorizontalOffset = 470
  VerticalOffset = 78
  Width = 705
  object tbLiqInqDescuentos: TRxMemoryData
    FieldDefs = <    
      item
        Name = 'idLiqInqDescuento'
        DataType = ftString
        Precision = 0
        Size = 38
      end    
      item
        Name = 'refLiqCabecera'
        DataType = ftString
        Precision = 0
        Size = 38
      end    
      item
        Name = 'Descuento'
        DataType = ftString
        Precision = 0
        Size = 2000
      end    
      item
        Name = 'nMonto'
        DataType = ftFloat
        Precision = 0
        Size = 0
      end    
      item
        Name = 'refContrato'
        DataType = ftString
        Precision = 0
        Size = 38
      end    
      item
        Name = 'bVisible'
        DataType = ftInteger
        Precision = 0
        Size = 0
      end>
    AfterInsert = tbLiqInqDescuentosAfterInsert
    left = 54
    top = 32
  end
  object tbLiqInqGastos: TRxMemoryData
    FieldDefs = <    
      item
        Name = 'idLiqInqGasto'
        DataType = ftString
        Precision = 0
        Size = 38
      end    
      item
        Name = 'refLiqCabecera'
        DataType = ftString
        Precision = 0
        Size = 38
      end    
      item
        Name = 'refReparacion'
        DataType = ftString
        Precision = 0
        Size = 38
      end    
      item
        Name = 'Gasto'
        DataType = ftString
        Precision = 0
        Size = 2000
      end    
      item
        Name = 'nMonto'
        DataType = ftFloat
        Precision = 0
        Size = 0
      end    
      item
        Name = 'refContrato'
        DataType = ftString
        Precision = 0
        Size = 38
      end    
      item
        Name = 'bVisible'
        DataType = ftInteger
        Precision = 0
        Size = 0
      end>
    AfterInsert = tbLiqInqGastosAfterInsert
    left = 175
    top = 32
  end
  object tbLiqInqMeses: TRxMemoryData
    Active = True
    FieldDefs = <    
      item
        Name = 'idLiqInqMes'
        DataType = ftString
        Precision = -1
        Size = 38
      end    
      item
        Name = 'refContratoCobro'
        DataType = ftString
        Precision = -1
        Size = 38
      end    
      item
        Name = 'refLiqCabecera'
        DataType = ftString
        Precision = -1
        Size = 38
      end    
      item
        Name = 'fVencimiento'
        DataType = ftDateTime
        Precision = -1
        Size = 0
      end    
      item
        Name = 'nMonto'
        DataType = ftFloat
        Precision = 2
        Size = 0
      end    
      item
        Name = 'nPunitorios'
        DataType = ftFloat
        Precision = 2
        Size = 0
      end    
      item
        Name = 'nTotal'
        DataType = ftFloat
        Precision = 2
        Size = 0
      end    
      item
        Name = 'nMes'
        DataType = ftInteger
        Precision = -1
        Size = 0
      end    
      item
        Name = 'nAno'
        DataType = ftInteger
        Precision = -1
        Size = 0
      end    
      item
        Name = 'bVisible'
        DataType = ftInteger
        Precision = -1
        Size = 0
      end>
    AfterInsert = tbLiqInqMesesAfterInsert
    left = 308
    top = 32
    object tbLiqInqMesesidLiqInqMes: TStringField
      DisplayWidth = 38
      FieldKind = fkData
      FieldName = 'idLiqInqMes'
      Index = 0
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      Size = 38
    end
    object tbLiqInqMesesrefContratoCobro: TStringField
      DisplayWidth = 38
      FieldKind = fkData
      FieldName = 'refContratoCobro'
      Index = 1
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      Size = 38
    end
    object tbLiqInqMesesrefLiqCabecera: TStringField
      DisplayWidth = 38
      FieldKind = fkData
      FieldName = 'refLiqCabecera'
      Index = 2
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      Size = 38
    end
    object tbLiqInqMesesfVencimiento: TDateTimeField
      DisplayWidth = 10
      FieldKind = fkData
      FieldName = 'fVencimiento'
      Index = 3
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      DisplayFormat = 'dd/mm/yyyy'
    end
    object tbLiqInqMesesnMonto: TFloatField
      DisplayWidth = 10
      FieldKind = fkData
      FieldName = 'nMonto'
      Index = 4
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      Currency = True
      MaxValue = 0
      MinValue = 0
      Precision = 2
    end
    object tbLiqInqMesesnPunitorios: TFloatField
      DisplayWidth = 10
      FieldKind = fkData
      FieldName = 'nPunitorios'
      Index = 5
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      Currency = True
      MaxValue = 0
      MinValue = 0
      Precision = 2
    end
    object tbLiqInqMesesnTotal: TFloatField
      DisplayWidth = 10
      FieldKind = fkData
      FieldName = 'nTotal'
      Index = 6
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      Currency = True
      MaxValue = 0
      MinValue = 0
      Precision = 2
    end
    object tbLiqInqMesesnMes: TLongintField
      Alignment = taLeftJustify
      DisplayWidth = 10
      FieldKind = fkData
      FieldName = 'nMes'
      Index = 7
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
    end
    object tbLiqInqMesesnAno: TLongintField
      Alignment = taLeftJustify
      DisplayWidth = 10
      FieldKind = fkData
      FieldName = 'nAno'
      Index = 8
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
    end
    object tbLiqInqMesesbVisible: TLongintField
      DisplayWidth = 10
      FieldKind = fkData
      FieldName = 'bVisible'
      Index = 9
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
    end
  end
  object tbLiqInqPagares: TRxMemoryData
    FieldDefs = <    
      item
        Name = 'idLiqInqPagare'
        DataType = ftString
        Precision = 0
        Size = 38
      end    
      item
        Name = 'refLiqCabecera'
        DataType = ftString
        Precision = 0
        Size = 38
      end    
      item
        Name = 'refContratoPagare'
        DataType = ftString
        Precision = 0
        Size = 38
      end    
      item
        Name = 'fVencimiento'
        DataType = ftDate
        Precision = 0
        Size = 0
      end    
      item
        Name = 'nMonto'
        DataType = ftFloat
        Precision = 0
        Size = 0
      end    
      item
        Name = 'nPunitorios'
        DataType = ftFloat
        Precision = 0
        Size = 0
      end    
      item
        Name = 'nTotal'
        DataType = ftFloat
        Precision = 0
        Size = 0
      end    
      item
        Name = 'bVisible'
        DataType = ftInteger
        Precision = 0
        Size = 0
      end>
    AfterInsert = tbLiqInqPagaresAfterInsert
    left = 444
    top = 33
  end
  object qLevantarCuotasContrato: TZQuery
    Connection = DM_Conexion.cnxGeneral
    SQL.Strings = (
      'SELECT PP.CuotaInicio'
      '            ,PP.CuotaFin'
      '            ,PP.nMonto'
      '            ,C.idContrato'
      '            ,C.fInicio as InicioContrato'
      '            ,C.nDiaVencimiento'
      'FROM tbContratos C'
      '           INNER JOIN tbPropiedadesPrecios PP ON C.refPropiedad = PP.refPropiedad'
      'WHERE C.idContrato = :refContrato'
      'ORDER BY PP.CuotaInicio'
    )
    Params = <    
      item
        DataType = ftUnknown
        Name = 'refContrato'
        ParamType = ptUnknown
      end>
    left = 308
    top = 393
    ParamData = <    
      item
        DataType = ftUnknown
        Name = 'refContrato'
        ParamType = ptUnknown
      end>
  end
  object tbMesesSEL: TZQuery
    Connection = DM_Conexion.cnxGeneral
    SQL.Strings = (
      'SELECT *'
      'FROM tbLiqInqMeses'
      'WHERE idLiqInqMes = :idLiqInqMes'
    )
    Params = <    
      item
        DataType = ftUnknown
        Name = 'idLiqInqMes'
        ParamType = ptUnknown
      end>
    left = 301
    top = 95
    ParamData = <    
      item
        DataType = ftUnknown
        Name = 'idLiqInqMes'
        ParamType = ptUnknown
      end>
  end
  object tbMesesINS: TZQuery
    Connection = DM_Conexion.cnxGeneral
    SQL.Strings = (
      'INSERT INTO tbLiqInqMeses'
      '(IDLIQINQMES, REFCONTRATOCOBRO, REFLIQCABECERA, FVENCIMIENTO, NMONTO, NPUNITORIOS, NTOTAL, nMes, nAno)'
      'VALUES'
      '(:IDLIQINQMES, :REFCONTRATOCOBRO, :REFLIQCABECERA, :FVENCIMIENTO, :NMONTO, :NPUNITORIOS, :NTOTAL, :nMes, :nAno)'
    )
    Params = <    
      item
        DataType = ftUnknown
        Name = 'IDLIQINQMES'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'REFCONTRATOCOBRO'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'REFLIQCABECERA'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'FVENCIMIENTO'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NMONTO'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NPUNITORIOS'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NTOTAL'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'nMes'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'nAno'
        ParamType = ptUnknown
      end>
    left = 310
    top = 157
    ParamData = <    
      item
        DataType = ftUnknown
        Name = 'IDLIQINQMES'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'REFCONTRATOCOBRO'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'REFLIQCABECERA'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'FVENCIMIENTO'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NMONTO'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NPUNITORIOS'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NTOTAL'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'nMes'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'nAno'
        ParamType = ptUnknown
      end>
  end
  object tbMesesUPD: TZQuery
    Connection = DM_Conexion.cnxGeneral
    SQL.Strings = (
      'UPDATE tbLiqInqMeses'
      'SET'
      '  REFCONTRATOCOBRO = :REFCONTRATOCOBRO '
      ', REFLIQCABECERA = :REFLIQCABECERA '
      ', FVENCIMIENTO = :FVENCIMIENTO '
      ', NMONTO = :NMONTO '
      ', NPUNITORIOS = :NPUNITORIOS '
      ', NTOTAL = :NTOTAL '
      ', NMES = :NMES'
      ', NANO = :NANO'
      'WHERE IDLIQINQMES = :IDLIQINQMES'
    )
    Params = <    
      item
        DataType = ftUnknown
        Name = 'REFCONTRATOCOBRO'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'REFLIQCABECERA'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'FVENCIMIENTO'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NMONTO'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NPUNITORIOS'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NTOTAL'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NMES'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NANO'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'IDLIQINQMES'
        ParamType = ptUnknown
      end>
    left = 310
    top = 226
    ParamData = <    
      item
        DataType = ftUnknown
        Name = 'REFCONTRATOCOBRO'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'REFLIQCABECERA'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'FVENCIMIENTO'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NMONTO'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NPUNITORIOS'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NTOTAL'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NMES'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'NANO'
        ParamType = ptUnknown
      end    
      item
        DataType = ftUnknown
        Name = 'IDLIQINQMES'
        ParamType = ptUnknown
      end>
  end
  object qLevantarCuotasLiquidadas: TZQuery
    Connection = DM_Conexion.cnxGeneral
    SQL.Strings = (
      'SELECT *'
      'FROM tbLiqInqMeses'
      'WHERE (refContratoCobro = :refContrato) '
      '           and (bVisible = 1)'
      ''
    )
    Params = <    
      item
        DataType = ftUnknown
        Name = 'refContrato'
        ParamType = ptUnknown
      end>
    left = 311
    top = 344
    ParamData = <    
      item
        DataType = ftUnknown
        Name = 'refContrato'
        ParamType = ptUnknown
      end>
  end
  object tbMesesDEL: TZQuery
    Connection = DM_Conexion.cnxGeneral
    SQL.Strings = (
      'UPDATE tbLiqInqMeses'
      'SET bVisible = 0'
      'WHERE IDLIQINQMES = :IDLIQINQMES'
    )
    Params = <    
      item
        DataType = ftUnknown
        Name = 'IDLIQINQMES'
        ParamType = ptUnknown
      end>
    left = 308
    top = 290
    ParamData = <    
      item
        DataType = ftUnknown
        Name = 'IDLIQINQMES'
        ParamType = ptUnknown
      end>
  end
end
